{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./src/app.tsx","webpack:///./src/code/canvas/chord.ts","webpack:///./src/code/common/alerts.ts","webpack:///./src/code/common/guid.ts","webpack:///./src/code/data/guitar-string.ts","webpack:///./src/code/data/notes.ts","webpack:///./src/code/firebase/index.ts","webpack:///./src/components/chords/add-chord/barre/index.tsx","webpack:///./src/components/chords/add-chord/drawing-fret/index.tsx","webpack:///./src/components/chords/add-chord/guitar-strings/guitar-string.tsx","webpack:///./src/components/chords/add-chord/guitar-strings/index.tsx","webpack:///./src/components/chords/add-chord/index.tsx","webpack:///./src/components/chords/add-chord/instrument/index.tsx","webpack:///./src/components/chords/add-chord/name/index.tsx","webpack:///./src/components/chords/add-chord/notes/index.tsx","webpack:///./src/components/chords/add-chord/save-button/index.tsx","webpack:///./src/components/chords/add-chord/startFret/index.tsx","webpack:///./src/components/common/dialogs/snackbar/index.tsx","webpack:///./src/components/layout/page-layout.tsx","webpack:///./src/components/navigation/desktop/index.tsx","webpack:///./src/components/navigation/mobile/index.tsx","webpack:///./src/components/views/add-track.tsx","webpack:///./src/components/views/admin/add-chords/index.tsx","webpack:///./src/components/views/admin/index.tsx","webpack:///./src/components/views/chords.tsx","webpack:///./src/components/views/favourites.tsx","webpack:///./src/components/views/tracks.tsx","webpack:///./src/components/views/view-list.tsx","webpack:///./src/components/vk/layout/header/heade-and-back/index.tsx","webpack:///./src/hooks/isDesktop.ts","webpack:///./src/pages.tsx","webpack:///./src/server.ts","webpack:///./src/ssr.ts","webpack:///./src/stores/add-chords-store.ts","webpack:///./src/stores/global-store.ts","webpack:///./src/stores/snackbar.ts","webpack:///external \"@firebase/firestore\"","webpack:///external \"@vkontakte/icons\"","webpack:///external \"@vkontakte/vkui\"","webpack:///external \"express\"","webpack:///external \"firebase/analytics\"","webpack:///external \"firebase/app\"","webpack:///external \"firebase/database\"","webpack:///external \"firebase/firestore\"","webpack:///external \"fs\"","webpack:///external \"mobx\"","webpack:///external \"mobx-react-lite\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"uuid\""],"names":["App","ChordCanvas","constructor","canvas","padding","context","getContext","draw","params","width","height","clear","drawEmptyFrets","strokeStyle","stringsColor","lineWidth","drawFrets","drawStrings","drawChords","drawDescription","y","topPadding","stepFrets","i","drawLine","x","stepStrings","guitarStrings","length","forEach","string","fretsColor","drawBarre","drawStringFrets","barre","strings","skipStrings","fret","startX","endX","startFret","fert","index","beginPath","fillStyle","arc","Math","PI","fill","strokeText","toString","startY","endY","moveTo","lineTo","stroke","clearRect","snackbar","message","callback","SnackbarsStore","showSnackbar","createGuid","uuidv4","stringsByCount","notes","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","init","app","initializeApp","analytics","getAnalytics","database","getDatabase","firestore","getFirestore","BarreField","observer","Store","event","changeProperty","Fret","useRef","chordParams","chordCanvasRef","useEffect","current","chordCanvas","instrument","console","log","display","justifyContent","GuitarStringField","changeFret","data","useMemo","start","label","value","push","some","item","option","restProps","target","GuitarStringFields","map","changeString","AddChordsForm","InstrumentField","changeInstrtument","name","NameField","NotesField","note","changeNote","SaveButton","saveChord","StartFretField","fretsData","frets","SnackbarContainer","currentSnackbar","close","Layout","children","viewWidth","useAdaptivity","platform","usePlatform","isDesktop","ViewWidth","TABLET","hasHeader","VKCOM","activeLinkStyle","backgroundColor","borderRadius","DesktopNav","isDesktopHook","pages","page","key","GlobalStore","setActiveStory","activeStory","iconComponent","MobileNav","AddTrackView","AddChordsView","AdminView","setActivePanel","ChordsView","FavouritesView","TracksView","props","ViewList","activePanel","HeaderWithBack","toMainPanel","express","get","static","path","__dirname","use","req","res","getApp","firebaseToken","indexHTML","fs","encoding","replace","contentType","status","send","listen","jsx","React","createElement","reactHtml","renderToString","defauiltParams","mode","AddChordsStore","fillParams","makeAutoObservable","undefined","deep","bind","prop","fillStrings","property","find","isNaN","guitarStringsCount","result","addDoc","collection","store","window","addChordsStore","initDatabase","firebase","firebaseAnalitics","makeObservable","observable","panel","globalStore","snackbars","id","closeSnackbar","_snackbar","filter"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server.ts\");\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import React from 'react'\nimport { AppRoot, Panel, View } from '@vkontakte/vkui'\nimport { AdaptivityProvider, ConfigProvider } from '@vkontakte/vkui'\n\ndeclare var window: any\n\nimport '@vkontakte/vkui/dist/vkui.css'\n\nimport Layout from './components/layout/page-layout'\nimport ViewList from './components/views/view-list'\nimport Snackbar from './components/common/dialogs/snackbar'\n\nconst App: React.FC = () => {\n\n  return (\n\n    <Layout >\n      <ViewList />\n    </Layout>\n  )\n}\n\nexport default App\n","import { iParams as iChordParams } from '../../stores/add-chords-store'\r\n\r\nclass ChordCanvas {\r\n\r\n    canvas: HTMLCanvasElement\r\n    context: CanvasRenderingContext2D\r\n\r\n    params: iChordParams\r\n\r\n    stepStrings: number\r\n    stepFrets: number\r\n    padding: number = 10\r\n    topPadding: number = this.padding * 2\r\n\r\n    stringsColor = 'black'\r\n    fretsColor = '#99a2ad'\r\n\r\n    constructor(canvas: HTMLCanvasElement) {\r\n        this.canvas = canvas\r\n        this.context = this.canvas.getContext('2d')!\r\n    }\r\n\r\n    draw(params: iChordParams, width: number, height: number) {\r\n\r\n        this.params = params\r\n        this.canvas.width = width\r\n        this.canvas.height = height\r\n\r\n        this.clear()\r\n        this.drawEmptyFrets()\r\n    }\r\n\r\n    drawEmptyFrets() {\r\n\r\n        this.context.strokeStyle = this.stringsColor\r\n        this.context.lineWidth = 1\r\n\r\n        this.drawFrets()\r\n        this.drawStrings()\r\n        this.drawChords()\r\n\r\n        this.drawDescription()\r\n    }\r\n\r\n    drawFrets() {\r\n\r\n        let y = this.topPadding\r\n        this.stepFrets = (this.canvas.height - this.padding - y) / 5\r\n\r\n        for(let i = 0; i <= 5; i++) {\r\n            this.drawLine(this.padding, y, this.canvas.width - this.padding, y)\r\n            y += this.stepFrets\r\n        }\r\n    }\r\n\r\n    drawStrings() {\r\n\r\n        let x = this.canvas.width - this.padding\r\n        this.stepStrings = (x - this.padding) / (this.params.guitarStrings.length - 1)\r\n\r\n        this.params.guitarStrings.forEach((string) => {\r\n            this.drawLine(x, this.topPadding, x, this.canvas.height - this.padding)\r\n            x -= this.stepStrings\r\n        })\r\n    }\r\n\r\n    drawChords() {\r\n\r\n        this.context.strokeStyle = this.fretsColor\r\n        this.context.lineWidth = 7\r\n\r\n        this.drawBarre()\r\n        this.drawStringFrets()\r\n    }\r\n\r\n    drawBarre() {\r\n\r\n        if(!this.params.barre) return\r\n\r\n        const strings = this.params.guitarStrings\r\n\r\n        let skipStrings = 0\r\n\r\n        for(let i = strings.length - 1; i >= 0; i--) {\r\n                \r\n            if(strings[i].fret !== 'notPlayed') {\r\n                break\r\n            }\r\n\r\n            skipStrings++\r\n        }\r\n\r\n        const startX = this.padding + (skipStrings * this.stepStrings) - 2\r\n        const endX = this.canvas.width - this.padding + 2\r\n        const y = this.topPadding + (this.stepFrets / 2)\r\n\r\n        this.drawLine(startX, y, endX, y)\r\n    }\r\n\r\n    drawStringFrets() {\r\n\r\n        const strings = this.params.guitarStrings\r\n\r\n        for(let i = strings.length - 1; i >= 0; i--) {\r\n\r\n            const string = strings[i]\r\n\r\n            if(string.fret === 'notPlayed' || string.fret === this.params.startFret) continue\r\n            \r\n            const fert: number = string.fret as number\r\n\r\n            const x = this.canvas.width - this.padding - ((string.index - 1) * this.stepStrings)\r\n            const y = this.topPadding + ((fert - (this.params.startFret + 1)) * this.stepFrets) + (this.stepFrets / 2)\r\n\r\n            this.context.beginPath()\r\n\r\n            this.context.fillStyle = this.fretsColor\r\n            this.context.arc(x, y, 5, 0, Math.PI * 2)\r\n            this.context.fill()\r\n\r\n            this.context.beginPath()\r\n        }\r\n    }\r\n\r\n    drawDescription() {\r\n\r\n        if(this.params.startFret !== 0) {\r\n            this.context.lineWidth = 0.75\r\n            this.context.strokeText(this.params.startFret.toString(), this.padding - 10, (this.topPadding / 2) - 2)\r\n        }\r\n\r\n        for(let i = this.params.guitarStrings.length - 1; i >= 0; i--) {\r\n\r\n            const string = this.params.guitarStrings[i]\r\n\r\n            if(string.fret !== 'notPlayed') continue\r\n\r\n            const x = this.canvas.width - this.padding - ((string.index - 1) * this.stepStrings)\r\n\r\n            this.context.lineWidth = 0.5\r\n            this.context.strokeText('X', x - 2.5, this.topPadding - 2)\r\n        }\r\n    }\r\n\r\n    drawLine(startX: number, startY: number, endX: number, endY: number) {\r\n\r\n        this.context.beginPath()\r\n\r\n        this.context.moveTo(startX, startY)\r\n        this.context.lineTo(endX, endY)\r\n        this.context.stroke()\r\n\r\n        this.context.beginPath()\r\n    }\r\n\r\n    clear() {\r\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)\r\n        this.context.beginPath()\r\n    }\r\n}\r\n\r\nexport default ChordCanvas","import SnackbarsStore, { iSnackbar } from '../../stores/snackbar'\r\n\r\nexport const snackbar = (message: string, callback?: () => void) => {\r\n    return SnackbarsStore.showSnackbar({ message, callback })\r\n}","import { v4 as uuidv4 } from 'uuid'\r\n\r\nexport const createGuid = () => {\r\n    return uuidv4()\r\n}","export const stringsByCount = ['', 'Первая', 'Вторая', 'Третья', 'Четвертая', 'Пятая', 'Шестая']","export const notes = [\r\n    'C',\r\n    'C#',\r\n    'D',\r\n    'D#',\r\n    'E',\r\n    'F',\r\n    'F#',\r\n    'G',\r\n    'G#',\r\n    'A',\r\n    'A#',\r\n    'B'\r\n]","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from 'firebase/app'\r\nimport { getAnalytics } from 'firebase/analytics'\r\nimport { getDatabase } from 'firebase/database'\r\nimport { getFirestore, collection } from 'firebase/firestore'\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAG70Q8XMvKfSU48NLjICNcHxm4w1LGGiU\",\r\n  authDomain: \"chords-test-c25b3.firebaseapp.com\",\r\n  projectId: \"chords-test-c25b3\",\r\n  storageBucket: \"chords-test-c25b3.appspot.com\",\r\n  messagingSenderId: \"961783308721\",\r\n  appId: \"1:961783308721:web:265426d5c87511d98add90\"\r\n};\r\n\r\nconst init = () => {\r\n\r\n    // Initialize Firebase\r\n    const app = initializeApp(firebaseConfig)\r\n    const analytics = getAnalytics(app)\r\n    const database = getDatabase(app)\r\n    const firestore = getFirestore(app)\r\n\r\n    return { app, database, firestore, analytics }\r\n}\r\n\r\nexport default init","import React, { useMemo } from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { Checkbox } from '@vkontakte/vkui'\r\n\r\nimport Store from '../../../../stores/add-chords-store'\r\n\r\nconst BarreField: React.FC = observer(() => {\r\n\r\n    return (\r\n        <Checkbox checked={Store.barre} onChange={event => Store.changeProperty('barre', !Store.barre)}>Баррэ</Checkbox>\r\n    )\r\n})\r\n\r\nexport default BarreField","import React, { useEffect, useRef, useMemo } from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { Div } from '@vkontakte/vkui'\r\n\r\nimport Store from '../../../../stores/add-chords-store'\r\nimport ChordCanvas from '../../../../code/canvas/chord'\r\n\r\nconst Fret: React.FC = observer(() => {\r\n\r\n    const canvas = useRef<HTMLCanvasElement>(null)\r\n    const params = Store.chordParams\r\n\r\n    const chordCanvasRef = useRef<ChordCanvas>()\r\n\r\n    useEffect(() => {\r\n        Store.canvas = chordCanvasRef.current = new ChordCanvas(canvas.current!)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        const chordCanvas = chordCanvasRef.current!\r\n        chordCanvas.draw(params, params.instrument === 'ukulele' ? 90 : 110, 170)\r\n\r\n    }, [params])\r\n\r\n    console.log('rerender')\r\n\r\n    return (\r\n        <Div style={{display: 'flex', justifyContent: 'center'}}>\r\n            <canvas ref={canvas} width={110} height={170}/>\r\n        </Div> \r\n    )\r\n\r\n})\r\n\r\nexport default Fret","import React, { useMemo, forwardRef } from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { CustomSelectOption, FormItem, Select, SliderSwitch } from '@vkontakte/vkui'\r\n\r\nimport { stringsByCount } from '../../../../code/data/guitar-string'\r\n\r\ninterface iProps {\r\n    barre: boolean\r\n    startFret: number\r\n    fret: number | string\r\n    index: number\r\n    changeFret: (fret: string) => void\r\n}\r\n\r\nconst GuitarStringField: React.FC<iProps> = ({ fret, index, barre, startFret, changeFret }) => {\r\n           \r\n    const data = useMemo(() => {\r\n\r\n        const start = barre ? startFret + 1 : startFret\r\n\r\n        let data = [\r\n            { label: 'Не играется', value: 'notPlayed' },\r\n            { label: 'Открытая', value: startFret }\r\n        ]\r\n\r\n        for(let i = start + 1; i <= start + (barre ? 4 : 5); i++) {\r\n            data.push({ label: i.toString(), value: i })\r\n        }\r\n\r\n        return data\r\n        \r\n    }, [startFret, barre, fret])\r\n\r\n    if(!data.some(item => item.value === fret)) {\r\n        changeFret(data[1].value as any)\r\n    }\r\n\r\n    return (\r\n        \r\n        <FormItem top={`${stringsByCount[index]} струна`}>\r\n\r\n            <Select\r\n                value={fret}\r\n                options={data}\r\n                renderOption={({ option, ...restProps }) => (<CustomSelectOption {...restProps} />)}\r\n                onChange={event => changeFret(event.target.value)}\r\n            />\r\n\r\n        </FormItem>\r\n    )\r\n}\r\n\r\nexport default GuitarStringField","import React from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { FormItem, SliderSwitch } from '@vkontakte/vkui'\r\n\r\nimport { MusicalInstrument } from '../../../../types/global-types'\r\nimport Store from '../../../../stores/add-chords-store'\r\n\r\nimport String from './guitar-string'\r\n\r\n\r\nconst GuitarStringFields: React.FC = observer(() => {\r\n\r\n    return (\r\n\r\n        <>\r\n\r\n            {\r\n                Store.guitarStrings.map(string =>\r\n                    \r\n                    <String\r\n                        key={string.index}\r\n                        fret={string.fret}\r\n                        index={string.index}\r\n                        barre={Store.barre}\r\n                        startFret={Store.startFret}\r\n                        changeFret={(fret) => Store.changeString(string.index, fret)}\r\n                    />)\r\n            }\r\n\r\n        </>\r\n    )\r\n})\r\n\r\nexport default GuitarStringFields","import React from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { CellButton, Group, Panel, PanelHeader, PanelHeaderClose, View, FormLayout, FormItem, SliderSwitch, Select, CustomSelectOption, PanelHeaderSubmit } from '@vkontakte/vkui'\r\n\r\nimport { notes } from '../../../code/data/notes'\r\n\r\nimport HeaderWithBack from '../../vk/layout/header/heade-and-back'\r\nimport Canvas from './drawing-fret'\r\nimport Instrument from './instrument'\r\nimport Notes from './notes'\r\nimport Name from './name'\r\nimport StartFret from './startFret'\r\nimport Barre from './barre'\r\nimport GuitarStrings from './guitar-strings'\r\nimport SaveButton from './save-button'\r\n\r\nconst AddChordsForm: React.FC = observer(() => {\r\n\r\n    return (\r\n        <FormLayout>\r\n      \r\n            <HeaderWithBack>\r\n                Добавить аккорд\r\n            </HeaderWithBack>\r\n\r\n            <Group>\r\n\r\n                <Instrument/>\r\n                <Notes />\r\n                <Name />\r\n\r\n                <Canvas />\r\n\r\n                <SaveButton />\r\n\r\n                <StartFret />\r\n                <Barre />\r\n                <GuitarStrings />\r\n                \r\n            </Group>\r\n\r\n        </FormLayout >\r\n    )\r\n})\r\n\r\nexport default AddChordsForm","import React from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { FormItem, SliderSwitch } from '@vkontakte/vkui'\r\n\r\nimport { MusicalInstrument } from '../../../../types/global-types'\r\nimport Store from '../../../../stores/add-chords-store'\r\n\r\nconst InstrumentField: React.FC = observer(() => {\r\n\r\n    return (\r\n        <FormItem top='Инструмент'>\r\n            <SliderSwitch\r\n                activeValue={Store.instrument}\r\n                onSwitch={ value => Store.changeInstrtument(value as MusicalInstrument)}\r\n                options={[\r\n                    {\r\n                        name: 'Гитара',\r\n                        value: 'guitar',\r\n                    },\r\n                    {\r\n                        name: 'Укулеле',\r\n                        value: 'ukulele',\r\n                    },\r\n                ]}\r\n            />\r\n        </FormItem>\r\n    )\r\n})\r\n\r\nexport default InstrumentField","import React from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { FormItem, Select, CustomSelectOption, Input } from '@vkontakte/vkui'\r\n\r\nimport { notes } from '../../../../code/data/notes'\r\nimport Store from '../../../../stores/add-chords-store'\r\n\r\nconst NameField: React.FC = observer(() => {\r\n\r\n    return (\r\n \r\n        <FormItem top='Название'>\r\n            <Input value={Store.name} onChange={event => Store.changeProperty('name', event.target.value)} />\r\n        </FormItem>\r\n    )\r\n}) \r\n\r\nexport default NameField","import React from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { FormItem, Select, CustomSelectOption } from '@vkontakte/vkui'\r\n\r\nimport { notes } from '../../../../code/data/notes'\r\nimport Store from '../../../../stores/add-chords-store'\r\n\r\nconst NotesField: React.FC = observer(() => {\r\n\r\n    return (\r\n\r\n        <FormItem top='Нота'>\r\n\r\n            <Select\r\n                value={Store.note}\r\n                options={notes.map(note => ({ label: note, value: note }))}\r\n                renderOption={({ option, ...restProps }) => (<CustomSelectOption {...restProps} />)}\r\n                onChange={event => Store.changeNote(event.target.value)}\r\n            />\r\n\r\n        </FormItem>\r\n    )\r\n})\r\n\r\nexport default NotesField","import React, { useMemo } from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { FormItem, Select, CustomSelectOption, CellButton  } from '@vkontakte/vkui'\r\n\r\nimport Store from '../../../../stores/add-chords-store'\r\n\r\nconst SaveButton: React.FC = observer(() => {\r\n\r\n    return (\r\n\r\n        <CellButton centered onClick={Store.saveChord}> \r\n                Сохранить аккорд\r\n        </CellButton>\r\n    )\r\n})\r\n\r\nexport default SaveButton","import React, { useMemo } from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { FormItem, Select, CustomSelectOption } from '@vkontakte/vkui'\r\n\r\nimport Store from '../../../../stores/add-chords-store'\r\n\r\nconst StartFretField: React.FC = observer(() => {\r\n\r\n    const fretsData = useMemo(() => {\r\n\r\n        let frets = []\r\n\r\n        for(let i = 0; i <= 8; i++) {\r\n            frets.push(i)\r\n        }\r\n\r\n        return frets\r\n\r\n    }, [])\r\n\r\n    return (\r\n\r\n        <FormItem top={`Начальный лад`}>\r\n\r\n            <Select\r\n                value={Store.startFret}\r\n                options={fretsData.map(fret => ({ label: fret.toString(), value: fret }))}\r\n                renderOption={({ option, ...restProps }) => (<CustomSelectOption {...restProps} />)}\r\n                onChange={event => Store.changeProperty('startFret', +event.target.value)}\r\n            />\r\n \r\n        </FormItem>\r\n    )\r\n})\r\n\r\nexport default StartFretField","import React from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\n\r\nimport Store from '../../../../stores/snackbar'\r\nimport { Snackbar } from '@vkontakte/vkui'\r\n\r\nconst SnackbarContainer: React.FC = observer(() => {\r\n    \r\n    const current = Store.currentSnackbar\r\n    if(!current) return null\r\n\r\n    return (\r\n        <Snackbar\r\n        onClose={current.close}\r\n      >\r\n        {current.message}\r\n      </Snackbar>\r\n    )\r\n})\r\n\r\nexport default SnackbarContainer","import React from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { Epic, PanelHeader, SplitCol, SplitLayout, useAdaptivity, usePlatform, ViewWidth, VKCOM } from '@vkontakte/vkui'\r\n\r\nimport GlobalStore from '../../stores/global-store'\r\n\r\nimport DesktopNav from '../navigation/desktop'\r\nimport MobileNav from '../navigation/mobile'\r\n\r\ninterface iProps {\r\n    children: JSX.Element[]\r\n}\r\n\r\nconst Layout: React.FC = observer(({ children }) => {\r\n\r\n    const { viewWidth } = useAdaptivity();\r\n\r\n    const platform = usePlatform();\r\n    const isDesktop = viewWidth! >= ViewWidth.TABLET;\r\n    const hasHeader = platform !== VKCOM;\r\n\r\n    return (\r\n\r\n        <SplitLayout\r\n            header={hasHeader && <PanelHeader separator={false} />}\r\n            style={{ justifyContent: \"center\" }}\r\n        >\r\n            <DesktopNav />\r\n            <SplitCol\r\n                animate={!isDesktop}\r\n                spaced={isDesktop}\r\n                width={isDesktop ? '560px' : '100%'}\r\n                maxWidth={isDesktop ? '560px' : '100%'}\r\n            >\r\n                \r\n                    {children}\r\n                \r\n            </SplitCol>\r\n        </SplitLayout>\r\n\r\n    )\r\n})\r\n\r\nexport default Layout","import React from 'react'\r\nimport { Cell, Group, Panel, PanelHeader, SplitCol } from '@vkontakte/vkui'\r\n\r\nimport isDesktopHook from '../../../hooks/isDesktop'\r\nimport GlobalStore from '../../../stores/global-store'\r\n\r\nimport { pages } from '../../../pages'\r\nimport { observer } from 'mobx-react-lite'\r\n\r\nconst activeLinkStyle = {\r\n  backgroundColor: \"var(--button_secondary_background)\",\r\n  borderRadius: 8\r\n}\r\n\r\nconst DesktopNav: React.FC = observer(() => {\r\n\r\n  const isDesktop = isDesktopHook()\r\n\r\n  if(!isDesktop) return null\r\n  \r\n  return (\r\n    <SplitCol fixed width=\"280px\" maxWidth=\"280px\">\r\n      <Panel>\r\n        <PanelHeader />\r\n        <Group>\r\n\r\n          {\r\n            pages.map(page => \r\n\r\n              <Cell\r\n                key={page.key}\r\n                onClick={() => GlobalStore.setActiveStory(page.key)}\r\n                disabled={GlobalStore.activeStory === page.key}\r\n                style={GlobalStore.activeStory === page.key ? activeLinkStyle : {}}\r\n                data-story={page.key}\r\n                before={page.iconComponent}\r\n              >\r\n                {page.name}\r\n              </Cell>\r\n\r\n            )\r\n          }\r\n\r\n        </Group>\r\n      </Panel>\r\n    </SplitCol>\r\n  )\r\n})\r\n\r\nexport default DesktopNav","import React from 'react'\r\nimport { Tabbar, TabbarItem } from '@vkontakte/vkui'\r\nimport { observer } from 'mobx-react-lite'\r\n\r\nimport isDesktopHook from '../../../hooks/isDesktop'\r\nimport GlobalStore from '../../../stores/global-store'\r\n\r\nimport { pages } from '../../../pages'\r\n\r\nconst MobileNav: React.FC = observer(() => {\r\n\r\n    const isDesktop = isDesktopHook()\r\n\r\n    if(isDesktop) return null\r\n\r\n    return (\r\n        <Tabbar>\r\n\r\n            {\r\n                pages.map(page => \r\n\r\n                    <TabbarItem\r\n                        key={page.key}\r\n                        onClick={() => GlobalStore.setActiveStory(page.key)}\r\n                        selected={GlobalStore.activeStory === page.key}\r\n                        data-story={page.key}\r\n                        text={page.name}\r\n                    >\r\n                        {page.iconComponent}\r\n                    </TabbarItem>\r\n                )\r\n            }\r\n\r\n        </Tabbar>\r\n    )\r\n})\r\n\r\nexport default MobileNav\r\n\r\n","import React from 'react'\r\nimport { Panel, PanelHeader, View } from '@vkontakte/vkui'\r\n\r\nconst AddTrackView: React.FC = () => {\r\n\r\n    return (\r\n      <>\r\n\r\n        <PanelHeader>Добавить трек</PanelHeader>\r\n\r\n        \r\n      </>\r\n    )\r\n\r\n}\r\n\r\nexport default AddTrackView","import React from 'react'\r\n\r\nimport AddChordsForm from '../../../chords/add-chord'\r\nimport Snackbar from '../../../common/dialogs/snackbar'\r\n\r\nconst AddChordsView: React.FC = () => {\r\n\r\n    return (\r\n        <>\r\n        <AddChordsForm />\r\n        <Snackbar />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddChordsView","import React from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { CellButton, Group, Panel, PanelHeader, View } from '@vkontakte/vkui'\r\nimport GlobalStore from '../../../stores/global-store'\r\n\r\n\r\nconst AdminView: React.FC = observer(() => {\r\n\r\n    return (\r\n        <>\r\n            <PanelHeader>Администрирование</PanelHeader>\r\n\r\n            <Group>\r\n            \r\n            <CellButton onClick={ () => GlobalStore.setActivePanel('addChords') }>\r\n                Добавить аккорд\r\n            </CellButton>\r\n        \r\n            </Group>\r\n\r\n        </>\r\n    )\r\n})\r\n\r\nexport default AdminView","import { Panel, PanelHeader, View } from '@vkontakte/vkui'\r\nimport React from 'react'\r\n\r\nconst ChordsView: React.FC = () => {\r\n\r\n    return (\r\n        <>\r\n            <PanelHeader>Аккорды</PanelHeader>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default ChordsView","import { Panel, PanelHeader, View } from '@vkontakte/vkui'\r\nimport React from 'react'\r\n\r\nconst FavouritesView: React.FC = () => {\r\n\r\n    return (\r\n        <>\r\n            <PanelHeader>Администрирование</PanelHeader>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default FavouritesView","import { Panel, View, PanelHeader } from '@vkontakte/vkui'\r\nimport React from 'react'\r\n\r\nconst TracksView: React.FC = (props) => {\r\n\r\n    return (\r\n        <>\r\n            <PanelHeader>Треки</PanelHeader>\r\n\r\n            tracks\r\n        </>   \r\n    )  \r\n}\r\n\r\nexport default TracksView","import React from 'react'\r\nimport { Icon28ClipOutline, Icon28MessageOutline, Icon28ServicesOutline, Icon28UserCircleOutline, Icon56NewsfeedOutline } from '@vkontakte/icons'\r\nimport { Epic, Group, Panel, PanelHeader, PanelHeaderBack, Placeholder, Root, View } from '@vkontakte/vkui'\r\n\r\nimport { observer } from 'mobx-react-lite'\r\nimport GlobalStore from '../../stores/global-store'\r\n\r\nimport Tracks from './tracks'\r\nimport Chords from './chords'\r\nimport Favourites from './favourites'\r\nimport AddTrack from './add-track'\r\nimport Admin from './admin'\r\nimport AdminAddChords from './admin/add-chords'\r\n\r\nimport MobileNav from '../navigation/mobile'\r\n\r\nconst ViewList: React.FC = observer(() => {\r\n\r\n  return (\r\n\r\n    <Epic activeStory={GlobalStore.activeStory} tabbar={<MobileNav />}>\r\n\r\n      <View id='tracks' activePanel={GlobalStore.activePanel}>\r\n        <Panel id='tracks'>\r\n          <Tracks />\r\n        </Panel>\r\n      </View >\r\n\r\n      <View id='chords' activePanel={GlobalStore.activePanel}>\r\n        <Panel id='chords'>\r\n          <Chords />\r\n        </Panel>\r\n      </View >\r\n\r\n      <View id='favourites' activePanel={GlobalStore.activePanel}>\r\n        <Panel id='favourites'>\r\n          <Favourites />\r\n        </Panel>\r\n      </View >\r\n\r\n      <View id='addTrack' activePanel={GlobalStore.activePanel}>\r\n        <Panel id='addTrack'>\r\n          <AddTrack />\r\n        </Panel>\r\n      </View >\r\n\r\n      <View id='admin' activePanel={GlobalStore.activePanel}>\r\n        <Panel id='admin'>\r\n          <Admin />\r\n        </Panel>\r\n        <Panel id='addChords'>\r\n          <AdminAddChords />\r\n        </Panel>\r\n      </View >\r\n\r\n    </Epic>\r\n  )\r\n})\r\n\r\nexport default ViewList","import React, { Children } from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { PanelHeader, PanelHeaderClose, PanelHeaderProps } from '@vkontakte/vkui'\r\n\r\nimport GlobalStore from '../../../../../stores/global-store'\r\n\r\n\r\nconst HeaderWithBack: React.FC<PanelHeaderProps> = observer((props) => {\r\n\r\n    return (\r\n        <PanelHeader\r\n            left={<PanelHeaderClose onClick={() => GlobalStore.toMainPanel() }/>}\r\n            {...props}\r\n        >\r\n           {props.children}\r\n        </PanelHeader> \r\n    )\r\n})\r\n\r\nexport default HeaderWithBack","import { useAdaptivity, ViewWidth } from '@vkontakte/vkui'\r\n\r\nexport default () => {\r\n\r\n    const { viewWidth } = useAdaptivity()\r\n    \r\n    return viewWidth! >= ViewWidth.TABLET\r\n}","import React from 'react'\r\nimport { Icon28PlaylistOutline, Icon28MusicOutline, Icon28FavoriteOutline, Icon28AddSquareOutline, Icon28SettingsOutline } from '@vkontakte/icons'\r\nimport { JsxElement } from 'typescript'\r\n\r\nexport type iPageKey = 'tracks' | 'chords' | 'favourites' | 'addTrack' | 'admin'\r\n\r\nexport interface iPage {\r\n  key: iPageKey\r\n  name: string\r\n  iconComponent: JSX.Element\r\n}\r\n\r\nexport const pages: iPage[] = [\r\n    {\r\n        key: 'tracks',\r\n        name: 'Треки',\r\n        iconComponent: <Icon28PlaylistOutline />\r\n    },\r\n    {\r\n      key: 'chords',\r\n      name: 'Аккорды',\r\n      iconComponent: <Icon28MusicOutline />\r\n    },\r\n    {\r\n      key: 'favourites',\r\n      name: 'Избранное',\r\n      iconComponent: <Icon28FavoriteOutline />\r\n    },\r\n    {\r\n      key: 'addTrack',\r\n      name: 'Добавить трек',\r\n      iconComponent: <Icon28AddSquareOutline />\r\n    },\r\n    {\r\n      key: 'admin',\r\n      name: 'Администрирование',\r\n      iconComponent: <Icon28SettingsOutline />\r\n    }\r\n]\r\n\r\n","import express from 'express'\r\nimport * as fs from 'fs'\r\nimport * as path from 'path'\r\n\r\nimport getApp from './ssr'\r\n\r\nconst app = express()\r\n\r\napp.get(/\\.(js|css|map|ico)$/, express.static(path.resolve(__dirname, '../build')))\r\n\r\napp.use('*', (req, res) => {\r\n\r\n    const app = getApp()\r\n    const firebaseToken = '11111'\r\n\r\n    let indexHTML = fs.readFileSync(path.resolve(__dirname, '../build/index.html'), {\r\n        encoding: 'utf8',\r\n    })\r\n\r\n    indexHTML.replace( '<div id=\"root\"></div>', `<div id=\"root\">${app}</div>`)\r\n    indexHTML.replace('window[\"firebaseToken\"] = null;', `window[\"firebaseToken\"] = ${firebaseToken};`)\r\n    indexHTML.replace('window[\"isAdmin\"] = false;', `window[\"isAdmin\"] = ${true};`)\r\n\r\n    res.contentType('text/html')\r\n    res.status(200)\r\n\r\n    return res.send(indexHTML)\r\n})\r\n\r\napp.listen('9000', () => {\r\n    console.log('Сервер на порту 9000')\r\n})","import React from 'react'\r\nimport { renderToString } from 'react-dom/server'\r\n\r\nimport App from './app'\r\n\r\nexport default () => {\r\n\r\n    const jsx = React.createElement(App)\r\n    const reactHtml = renderToString(jsx)\r\n\r\n    return reactHtml\r\n}","import { makeAutoObservable } from 'mobx'\r\nimport { iPageKey, pages } from '../pages'\r\nimport { MusicalInstrument } from '../types/global-types'\r\nimport { notes } from '../code/data/notes'\r\nimport { getOuterBindingIdentifiers } from '@babel/types'\r\n\r\nimport ChordCanvas from '../code/canvas/chord'\r\nimport GlobalStore from './global-store'\r\nimport { collection, addDoc } from '@firebase/firestore'\r\nimport { snackbar } from '../code/common/alerts'\r\n\r\ntype Mode = 'add' | 'edit'\r\n\r\nexport interface iParams {\r\n    mode: Mode\r\n    instrument: MusicalInstrument\r\n    note: string\r\n    name: string\r\n    startFret: number\r\n    barre: boolean\r\n    guitarStrings: iGuitarString[]\r\n}\r\n\r\nexport interface iGuitarString {\r\n    index: number,\r\n    fret: number | string\r\n}\r\n\r\nconst defauiltParams: iParams = {\r\n    mode: 'add',\r\n    instrument: 'guitar',\r\n    note: notes[0],\r\n    name: notes[0],\r\n    startFret: 0,\r\n    barre: false,\r\n    guitarStrings: []\r\n}\r\n\r\nexport class AddChordsStore implements iParams {\r\n\r\n    mode: Mode\r\n    instrument: MusicalInstrument\r\n    note: string \r\n    name: string\r\n    startFret: number\r\n    barre: boolean\r\n\r\n    canvas: ChordCanvas\r\n\r\n    guitarStrings!: iGuitarString[]\r\n\r\n    constructor(params: iParams = defauiltParams) {\r\n\r\n        this.fillParams(params)\r\n        makeAutoObservable(this, undefined, { deep: true })\r\n\r\n        this.saveChord = this.saveChord.bind(this)\r\n    }\r\n\r\n    fillParams(params: iParams) {\r\n\r\n        for (let prop in params) {\r\n            this[prop as keyof this] = params[prop as keyof iParams] as any\r\n        }\r\n\r\n        if (!this.guitarStrings.length) {\r\n            this.fillStrings()\r\n        }\r\n    }\r\n\r\n    changeProperty(property: keyof iParams, value: any) {\r\n        this[property as keyof this] = value\r\n    }\r\n\r\n    changeNote(note: string) {\r\n        this.note = note\r\n        this.name = this.note\r\n    }\r\n\r\n    changeString(index: number, fret: string) {\r\n\r\n        const string = this.guitarStrings.find(string => string.index === index)\r\n\r\n        if (string) {\r\n            string.fret = isNaN(fret as any) ? fret : +fret\r\n        }\r\n\r\n        this.guitarStrings = [...this.guitarStrings]\r\n    }\r\n\r\n    changeInstrtument(instrument: MusicalInstrument) {\r\n        this.instrument = instrument\r\n        this.fillStrings()\r\n    }\r\n\r\n    fillStrings() {\r\n\r\n        const guitarStringsCount = this.instrument === 'guitar' ? 6 : 4\r\n        this.guitarStrings = []\r\n\r\n        for (let i = 1; i <= guitarStringsCount; i++) {\r\n            this.guitarStrings.push({ index: i, fret: 0 })\r\n        }\r\n    }\r\n\r\n    async saveChord() {\r\n        \r\n        const firestore = GlobalStore.firestore\r\n\r\n        const result = await addDoc(collection(firestore, `chords/${this.note}/${this.name}`), this.chordParams)\r\n        console.log(result)\r\n        \r\n        snackbar('Добавили аккорд')\r\n        this.fillParams(defauiltParams) \r\n    }\r\n\r\n    get chordParams(): iParams {\r\n\r\n        const params: iParams = {\r\n            mode: this.mode,\r\n            instrument: this.instrument,\r\n            note: this.note,\r\n            name: this.name,\r\n            startFret: this.startFret,\r\n            barre: this.barre,\r\n            guitarStrings: [...this.guitarStrings]\r\n        }\r\n\r\n        return params\r\n    }\r\n}\r\n\r\nconst store = (window as any).addChordsStore = new AddChordsStore()\r\nexport default store","import { makeAutoObservable, makeObservable, observable } from 'mobx'\r\nimport { FirebaseApp } from 'firebase/app'\r\nimport { Analytics } from 'firebase/analytics'\r\nimport initDatabase from '../code/firebase'\r\nimport { iPageKey, pages } from '../pages'\r\nimport { Database, getDatabase } from 'firebase/database'\r\nimport { Firestore } from '@firebase/firestore'\r\n\r\nexport class GlobalStore {\r\n\r\n    activeStory: iPageKey = pages[0].key\r\n    activePanel: string = pages[0].key\r\n\r\n    firebase: FirebaseApp\r\n    database: Database\r\n    firestore: Firestore\r\n    firebaseAnalitics: Analytics\r\n\r\n    constructor() {\r\n\r\n        const { app, database, firestore, analytics } = initDatabase()\r\n\r\n        this.firebase = app\r\n        this.database = database\r\n        this.firestore = firestore\r\n\r\n        this.firebaseAnalitics = analytics\r\n\r\n        makeObservable(this, {\r\n            activeStory: observable,\r\n            activePanel: observable\r\n        })\r\n    }\r\n\r\n    toMainPanel() {\r\n        this.activePanel = this.activeStory\r\n    }\r\n\r\n    setActiveStory(activeStory: iPageKey, panel: string = '') {\r\n        this.activeStory = activeStory\r\n        this.activePanel = panel || activeStory\r\n    }\r\n\r\n    setActivePanel(panel: string = '') {\r\n        this.activePanel = panel\r\n    }\r\n}\r\n  \r\nvar globalStore =  new GlobalStore()  \r\nexport default globalStore","import { makeAutoObservable, observable } from 'mobx'\r\nimport { createGuid } from '../code/common/guid'\r\n\r\nexport class SnackbarsStore {\r\n\r\n    private snackbars: iShowedSnackbar[] = []\r\n    \r\n    get currentSnackbar(): iShowedSnackbar {\r\n        return this.snackbars[0]\r\n    }\r\n\r\n    constructor() {\r\n        makeAutoObservable(this)\r\n    }\r\n\r\n    showSnackbar(snackbar: iSnackbar) {\r\n\r\n        const id = createGuid()\r\n\r\n        const close = () => {\r\n\r\n            if(snackbar.callback) {\r\n                snackbar.callback()\r\n            }\r\n\r\n            this.closeSnackbar(id)\r\n        }\r\n\r\n        const _snackbar: iShowedSnackbar = { \r\n            ...snackbar, \r\n            id,\r\n            close\r\n         }\r\n         \r\n        this.snackbars = [...this.snackbars, _snackbar]\r\n\r\n        return _snackbar\r\n    }\r\n\r\n    closeSnackbar(id: string) {\r\n        this.snackbars = this.snackbars.filter(snackbar => snackbar.id !== id)\r\n    }\r\n}\r\n  \r\nexport interface iSnackbar {\r\n    message: string\r\n    callback?: () => void\r\n}\r\n\r\nexport interface iShowedSnackbar extends iSnackbar {\r\n    id: string\r\n    close: () => void\r\n}\r\n\r\nconst store = (window as any).SnackbarsStore = new SnackbarsStore()\r\nexport default store","module.exports = require(\"@firebase/firestore\");","module.exports = require(\"@vkontakte/icons\");","module.exports = require(\"@vkontakte/vkui\");","module.exports = require(\"express\");","module.exports = require(\"firebase/analytics\");","module.exports = require(\"firebase/app\");","module.exports = require(\"firebase/database\");","module.exports = require(\"firebase/firestore\");","module.exports = require(\"fs\");","module.exports = require(\"mobx\");","module.exports = require(\"mobx-react-lite\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"uuid\");"],"sourceRoot":""}